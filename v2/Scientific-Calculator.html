<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scientific Calculator</title>
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      position: relative;
      background: linear-gradient(120deg, #23243a 0%, #3a3d5c 40%, #1e2a38 100%);
      overflow: hidden;
      transition: background 0.3s;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 0;
      pointer-events: none;
      background:
        url('data:image/svg+xml;utf8,<svg width="400" height="400" xmlns="http://www.w3.org/2000/svg"><g opacity="0.13"><circle cx="60" cy="60" r="30" fill="none" stroke="white" stroke-width="2"/><circle cx="340" cy="340" r="30" fill="none" stroke="white" stroke-width="2"/><path d="M100 200 Q200 100 300 200 T500 200" fill="none" stroke="white" stroke-width="2"/><text x="120" y="80" font-size="24" fill="white" font-family="monospace">E=mc²</text><text x="220" y="370" font-size="20" fill="white" font-family="monospace">π</text><text x="60" y="350" font-size="18" fill="white" font-family="monospace">sinθ</text></g></svg>') repeat,
        repeating-radial-gradient(circle at 20% 30%, rgba(255,255,255,0.03) 0, rgba(255,255,255,0.01) 40px, transparent 80px),
        repeating-radial-gradient(circle at 80% 70%, rgba(255,255,255,0.02) 0, rgba(255,255,255,0.01) 60px, transparent 120px);
      mix-blend-mode: lighten;
    }
    .theme-light {
      background: linear-gradient(120deg, #f4f6f8 0%, #e3ecec 40%, #e0f7fa 100%) !important;
    }
    .theme-light::before {
      background:
        url('data:image/svg+xml;utf8,<svg width="400" height="400" xmlns="http://www.w3.org/2000/svg"><g opacity="0.10"><circle cx="60" cy="60" r="30" fill="none" stroke="black" stroke-width="2"/><circle cx="340" cy="340" r="30" fill="none" stroke="black" stroke-width="2"/><path d="M100 200 Q200 100 300 200 T500 200" fill="none" stroke="black" stroke-width="2"/><text x="120" y="80" font-size="24" fill="black" font-family="monospace">E=mc²</text><text x="220" y="370" font-size="20" fill="black" font-family="monospace">π</text><text x="60" y="350" font-size="18" fill="black" font-family="monospace">sinθ</text></g></svg>') repeat,
        repeating-radial-gradient(circle at 20% 30%, rgba(0,0,0,0.03) 0, rgba(0,0,0,0.01) 40px, transparent 80px),
        repeating-radial-gradient(circle at 80% 70%, rgba(0,0,0,0.02) 0, rgba(0,0,0,0.01) 60px, transparent 120px);
      mix-blend-mode: darken;
    }
    .theme-light .calculator {
      background: linear-gradient(135deg, #f9fafb 0%, #e6eeef 100%) !important;
      color: #37474f !important;
      border: 1.5px solid #b0bec5 !important;
      box-shadow: 0 8px 32px rgba(0,0,0,0.10), 0 1.5px 0 #fff inset !important;
    }
    .theme-light #display {
      background: #fff !important;
      color: #222 !important;
      border: 2px solid #b0bec5 !important;
      box-shadow: 0 2px 8px rgba(176,190,197,0.18) !important;
      text-shadow: none !important;
      font-weight: 700 !important;
    }
    .theme-light button {
      background: linear-gradient(180deg, #e0e0e0 0%, #bdbdbd 100%) !important;
      color: #232323 !important;
      border-radius: 4px !important;
      box-shadow: 0 2px 4px rgba(0,0,0,0.13), 0 1.5px 0 #fff inset !important;
      font-weight: 500 !important;
      transition: background 0.18s, color 0.18s, box-shadow 0.18s, transform 0.1s !important;
    }
    .theme-light button:hover {
      background: linear-gradient(180deg, #f5f5f5 0%, #bdbdbd 100%) !important;
      color: #111 !important;
      transform: translateY(-1.5px) scale(1.03) !important;
    }
    .theme-light .func-btn {
      background: linear-gradient(180deg, #b3c6e7 0%, #90a4ae 100%) !important;
      color: #0d47a1 !important;
    }
    .theme-light .func-btn:hover {
      background: linear-gradient(180deg, #e3eafc 0%, #b3c6e7 100%) !important;
      color: #0d47a1 !important;
    }
    .theme-light .op-btn {
      background: linear-gradient(180deg, #ffe0b2 0%, #ffb74d 100%) !important;
      color: #e65100 !important;
    }
    .theme-light .op-btn:hover {
      background: linear-gradient(180deg, #fff3e0 0%, #ffe0b2 100%) !important;
      color: #e65100 !important;
    }
    .theme-light .eq-btn {
      background: linear-gradient(180deg, #ff7043 0%, #d84315 100%) !important;
      color: #fff !important;
      font-weight: 700 !important;
    }
    .theme-light .eq-btn:hover {
      background: linear-gradient(180deg, #ffab91 0%, #ff7043 100%) !important;
      color: #fff !important;
    }
    .theme-light .back-btn {
      background: linear-gradient(180deg, #bdbdbd 0%, #757575 100%) !important;
      color: #fff !important;
    }
    .theme-light .back-btn:hover {
      background: linear-gradient(180deg, #e0e0e0 0%, #bdbdbd 100%) !important;
      color: #232323 !important;
    }
    .theme-light .control-btn {
      background: linear-gradient(180deg, #c62828 0%, #ad1457 100%) !important;
      color: #fff !important;
      font-weight: 700 !important;
    }
    .theme-light .control-btn:hover {
      background: linear-gradient(180deg, #ef9a9a 0%, #c62828 100%) !important;
      color: #fff !important;
    }
    .theme-toggle-btn {
      position: fixed;
      top: 18px;
      right: 18px;
      z-index: 100;
      padding: 5px 14px;
      font-size: 0.95rem;
      border-radius: 7px;
      border: none;
      background: linear-gradient(90deg, #607d8b 0%, #90a4ae 100%);
      color: #fff;
      font-weight: 500;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
      opacity: 0.5;
      transition: opacity 0.2s, background 0.2s, color 0.2s;
      outline: none;
    }
    .theme-toggle-btn:hover {
      opacity: 1;
      background: linear-gradient(90deg, #b0bec5 0%, #607d8b 100%);
      color: #222;
    }
    .calculator {
      background: #232323;
      padding: clamp(16px, 4vw, 28px) clamp(12px, 3vw, 24px) clamp(12px, 3vw, 20px) clamp(12px, 3vw, 24px);
      border-radius: clamp(8px, 2vw, 18px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.7), 0 1.5px 0 #888 inset;
      width: min(90vw, 420px);
      max-width: 420px;
      min-width: 280px;
      color: #e0e0e0;
      display: flex;
      flex-direction: column;
      align-items: center;
      border: 2.5px solid #111;
      transition: background 0.3s, color 0.3s, border 0.3s;
      z-index: 10;
      position: relative;
      margin: 10px;
    }
    .calc-title {
      font-size: clamp(1.1rem, 3vw, 1.35rem);
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: clamp(8px, 2vw, 10px);
      color: #ffe082;
      text-shadow: 0 2px 8px rgba(0,0,0,0.18);
      text-align: center;
      font-family: 'Segoe UI', 'Arial', sans-serif;
    }
    .theme-light .calc-title {
      color: #ad1457;
      text-shadow: 0 2px 8px rgba(176,190,197,0.10);
    }
    #display {
      width: 95%;
      height: clamp(40px, 8vw, 48px);
      font-size: clamp(1.1rem, 3.5vw, 1.5rem);
      margin-bottom: clamp(10px, 2.5vw, 14px);
      border: 2px solid #b0bec5;
      border-radius: clamp(4px, 1vw, 6px);
      padding: clamp(6px, 1.5vw, 8px) clamp(8px, 2vw, 12px);
      text-align: right;
      background: linear-gradient(180deg, #44484d 0%, #6d6f73 100%);
      color: #f5f5f5;
      box-shadow: 0 4px 18px 2px rgba(0,0,0,0.45), 0 2px 8px #222 inset;
      outline: none;
      letter-spacing: 1px;
      font-weight: 700;
      font-family: 'Consolas', 'Courier New', monospace;
      transition: box-shadow 0.2s, background 0.3s, color 0.3s;
      text-shadow: 0 1px 0 #222, 0 0 8px #888;
    }
    .buttons {
      width: 100%;
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: clamp(4px, 1.5vw, 8px);
    }
    .control-btn {
      grid-column: 1 / -1;
      background: linear-gradient(180deg, #c62828 0%, #ad1457 100%);
      color: #fff;
      font-weight: 700;
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      padding: clamp(10px, 3vw, 14px) 0;
      min-height: clamp(40px, 8vw, 50px);
    }
    .control-btn:hover {
      background: linear-gradient(180deg, #ef9a9a 0%, #c62828 100%);
      color: #fff;
    }
    button {
      padding: clamp(8px, 2.5vw, 12px) 0;
      font-size: clamp(0.8rem, 2.2vw, 1rem);
      border: none;
      border-radius: clamp(3px, 0.8vw, 4px);
      background: linear-gradient(180deg, #e0e0e0 0%, #bdbdbd 100%);
      color: #232323;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.13), 0 1.5px 0 #fff inset;
      transition: background 0.18s, color 0.18s, box-shadow 0.18s, transform 0.1s;
      font-weight: 500;
      outline: none;
      font-family: inherit;
      min-height: clamp(36px, 7vw, 44px);
      min-width: clamp(36px, 7vw, 44px);
    }
    button:focus {
      box-shadow: 0 0 0 2.5px #90caf9;
      z-index: 1;
    }
    button:hover {
      background: linear-gradient(180deg, #f5f5f5 0%, #bdbdbd 100%);
      color: #111;
      transform: translateY(-1.5px) scale(1.03);
    }
    /* Function buttons */
    .func-btn {
      background: linear-gradient(180deg, #b3c6e7 0%, #90a4ae 100%);
      color: #0d47a1;
    }
    .func-btn:hover {
      background: linear-gradient(180deg, #e3eafc 0%, #b3c6e7 100%);
      color: #0d47a1;
    }
    /* Operation buttons */
    .op-btn {
      background: linear-gradient(180deg, #ffe0b2 0%, #ffb74d 100%);
      color: #e65100;
    }
    .op-btn:hover {
      background: linear-gradient(180deg, #fff3e0 0%, #ffe0b2 100%);
      color: #e65100;
    }
    /* Equals button */
    .eq-btn {
      background: linear-gradient(180deg, #ff7043 0%, #d84315 100%);
      color: #fff;
      font-weight: 700;
    }
    .eq-btn:hover {
      background: linear-gradient(180deg, #ffab91 0%, #ff7043 100%);
      color: #fff;
    }
    /* Backspace button */
    .back-btn {
      background: linear-gradient(180deg, #bdbdbd 0%, #757575 100%);
      color: #fff;
    }
    .back-btn:hover {
      background: linear-gradient(180deg, #e0e0e0 0%, #bdbdbd 100%);
      color: #232323;
    }
    /* Responsive for smaller screens */
    @media (max-width: 600px) {
      .calculator {
        width: 98vw;
        max-width: 420px;
        min-width: 0;
        padding: 10px 2vw 10px 2vw;
        border-radius: 12px;
      }
      #display {
        font-size: 1.1rem;
        height: 36px;
        padding: 6px 8px;
      }
      .buttons {
        gap: 4px;
      }
      button {
        padding: 12px 0;
        font-size: 1rem;
        min-height: 44px;
        min-width: 44px;
      }
      .theme-toggle-btn {
        top: 8px;
        right: 8px;
        font-size: 0.9rem;
        padding: 4px 10px;
        border-radius: 6px;
      }
    }
    @media (max-width: 400px) {
      .calculator {
        width: 100vw;
        padding: 4px 0 4px 0;
        border-radius: 0;
      }
      #display {
        font-size: 0.95rem;
        height: 28px;
        padding: 4px 4px;
      }
      button {
        font-size: 0.8rem;
        min-height: 36px;
        min-width: 36px;
        padding: 7px 0;
      }
      .theme-toggle-btn {
        top: 4px;
        right: 4px;
        font-size: 0.8rem;
        padding: 2px 6px;
      }
    }
  </style>
</head>
<body>
  <button class="theme-toggle-btn" onclick="toggleTheme()">Theme</button>
  <div class="calculator">
    <div class="calc-title">Scientific Calculator</div>
    <input type="text" id="display" readonly aria-label="Calculator display" />
    <div class="buttons">
      <button class="func-btn" onclick="func('sin')">sin</button>
      <button class="func-btn" onclick="func('cos')">cos</button>
      <button class="func-btn" onclick="func('tan')">tan</button>
      <button class="func-btn" onclick="func('log')">log</button>
      <button class="func-btn" onclick="func('ln')">ln</button>

      <button class="op-btn" onclick="press('(')">(</button>
      <button class="op-btn" onclick="press(')')">)</button>
      <button class="func-btn" onclick="press('Math.sqrt(')">√</button>
      <button class="func-btn" onclick="press('**2')">x²</button>
      <button class="func-btn" onclick="press('**')">xʸ</button>

      <button onclick="press('7')">7</button>
      <button onclick="press('8')">8</button>
      <button onclick="press('9')">9</button>
      <button class="op-btn" onclick="press('/')">÷</button>
      <button class="func-btn" onclick="press('Math.PI')">π</button>

      <button onclick="press('4')">4</button>
      <button onclick="press('5')">5</button>
      <button onclick="press('6')">6</button>
      <button class="op-btn" onclick="press('*')">×</button>
      <button class="func-btn" onclick="press('Math.E')">e</button>

      <button onclick="press('1')">1</button>
      <button onclick="press('2')">2</button>
      <button onclick="press('3')">3</button>
      <button class="op-btn" onclick="press('-')">−</button>
      <button class="func-btn" onclick="press('1/')">1/x</button>

      <button onclick="press('0')">0</button>
      <button onclick="press('.')">.</button>
      <button class="back-btn" onclick="backspace()" aria-label="Backspace">←</button>
      <button class="op-btn" onclick="press('+')">+</button>
      <button class="eq-btn" onclick="calculate()">=</button>
      <button class="control-btn" onclick="clearDisplay()">C</button>
    </div>
  </div>
  <script>
    // Get the display element
    const display = document.getElementById('display');
    // Append value to display
    function press(val) {
      display.value += val;
    }
    // Handle scientific functions
    function func(name) {
      try {
        const expr = parseFloat(display.value);
        let result;
        switch (name) {
          case 'sin': result = Math.sin(expr); break;
          case 'cos': result = Math.cos(expr); break;
          case 'tan': result = Math.tan(expr); break;
          case 'log': result = Math.log10(expr); break;
          case 'ln': result = Math.log(expr); break;
        }
        display.value = isNaN(result) ? 'Error' : result;
      } catch {
        display.value = 'Error';
      }
    }
    // Evaluate the expression in the display
    function calculate() {
      try {
        // eslint-disable-next-line no-eval
        let result = eval(display.value);
        display.value = (result === undefined || isNaN(result)) ? 'Error' : result;
      } catch {
        display.value = 'Error';
      }
    }
    // Clear the display
    function clearDisplay() {
      display.value = '';
    }
    // Remove last character
    function backspace() {
      display.value = display.value.slice(0, -1);
    }
    // Theme toggle logic
    function toggleTheme() {
      document.body.classList.toggle('theme-light');
    }
  </script>
</body>
</html>
